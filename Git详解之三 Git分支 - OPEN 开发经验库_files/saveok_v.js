/*! 4461 2013-9-17 14:8:14 */
define(["lib/jquery/1_9","lib/jh","kit/loadElm","kit/buildUiEvent","comp/statis"],function(e,t,n,r){var o=function(t){var o={},i={},a=function(){o.controller=t,i.dom=e(o.layoutHtml)[0],n(i.dom,o),o.bindUiEvent()};return o.layoutHtml='<div class="__saveokActivity saveokActivity saveokTips"><div class="link-box"><a href="#" class="sc-btn _gotoAddTagBtn"><span>添加标签</span></a><a href="#" class="sc-btn _shareBtn"><span>分享</span></a><a href="/" class="sc-btn __seeLink" target="_blank"><span>查看</span></a></div><a href="#" class="close-s-btn _closeBtn"><span>关闭</span></a></div>',i.noAddTagBtn=function(){e(o.nodes.gotoAddTagBtn).remove()},o.bindUiEvent=function(){r(i.dom,[["click","._gotoAddTagBtn"],["click","._shareBtn"],["click",".__seeLink"],["click","._closeBtn"]],o.uiEvent,e),e(i.dom).on("mouseleave",o.uiEvent.mouseleave__saveokActivity).on("mouseenter",o.uiEvent.mouseenter__saveokActivity)},o.uiEvent={click_closeBtn:function(){e(i).triggerHandler("clickCloseBtn",this)},click__seeLink:function(){e(i).triggerHandler("clickSeeLink",this)},click_shareBtn:function(t){e(i).triggerHandler("clickShareBtn",this),t.preventDefault()},click_gotoAddTagBtn:function(t){t.preventDefault(),i.clearClose(),o.controller.gotoAddTag(),e(i).triggerHandler("clickAddTagBtn",this)},mouseleave__saveokActivity:function(){i.willClose()},mouseenter__saveokActivity:function(){i.clearClose()}},i.showTips=function(t){switch(t.tips){case"添加标签成功":e(o.node.saveokActivity).addClass("add-tag-ok");break;default:e(o.node.saveokActivity).removeClass("add-tag-ok")}},i.setSeeLink=function(e){o.node.seeLink.href=e},i.setSeeLinkText=function(t){e("span",o.node.seeLink).html(t)},i.willClose=function(){i.clearClose(),o.iCloseTimer=setTimeout(function(){o.controller.closeView()},2500)},i.clearClose=function(){clearTimeout(o.iCloseTimer)},a.apply(i,arguments),i};return o});